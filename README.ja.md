# VSCode View Charset Extension

[![Marketplace Version](https://img.shields.io/visual-studio-marketplace/v/long-kudo.vscode-view-charset)](https://marketplace.visualstudio.com/items?itemName=long-kudo.vscode-view-charset)
[![Downloads](https://img.shields.io/visual-studio-marketplace/d/long-kudo.vscode-view-charset)](https://marketplace.visualstudio.com/items?itemName=long-kudo.vscode-view-charset)
[![Rating](https://img.shields.io/visual-studio-marketplace/r/long-kudo.vscode-view-charset)](https://marketplace.visualstudio.com/items?itemName=long-kudo.vscode-view-charset)
[![License](https://img.shields.io/github/license/long-910/vscode-view-charset)](https://github.com/long-910/vscode-view-charset/blob/main/LICENSE)
[![CI](https://github.com/long-910/vscode-view-charset/actions/workflows/main.yml/badge.svg)](https://github.com/long-910/vscode-view-charset/actions/workflows/main.yml)
[![Maintainability](https://api.codeclimate.com/v1/badges/8fc9c1d775da88566126/maintainability)](https://codeclimate.com/github/long-kudo/vscode-view-charset/maintainability)
[![Test Coverage](https://api.codeclimate.com/v1/badges/8fc9c1d775da88566126/test_coverage)](https://codeclimate.com/github/long-kudo.vscode-view-charset/test_coverage)
[![Codacy Badge](https://api.codacy.com/project/badge/Grade/d8ab25d02fba415d8690c09832c744cc)](https://app.codacy.com/gh/long-kudo/vscode-view-charset?utm_source=github.com&utm_medium=referral&utm_content=long-kudo.vscode-view-charset&utm_campaign=Badge_Grade_Settings)

<div align="center">

## ğŸŒ Language Selection / è¨€èªé¸æŠ / è¯­è¨€é€‰æ‹© / èªè¨€é¸æ“‡ / ì–¸ì–´ ì„ íƒ

| [English](README.md) | [æ—¥æœ¬èª](README.ja.md) | [ç®€ä½“ä¸­æ–‡](README.zh-cn.md) | [ç¹é«”ä¸­æ–‡](README.zh-tw.md) | [í•œêµ­ì–´](README.ko.md) |
| -------------------- | ---------------------- | --------------------------- | --------------------------- | ---------------------- |

</div>

## æ¦‚è¦

**View Charset**ã¯ã€Visual Studio Code ã®æ‹¡å¼µæ©Ÿèƒ½ã§ã€ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ãŠã‚ˆã³ Web ãƒ“ãƒ¥ãƒ¼ã§è¡¨ç¤ºã—ã¾ã™ã€‚
ã“ã®æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’ç°¡å˜ã«ç¢ºèªã—ã€ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«é–¢é€£ã™ã‚‹å•é¡Œã‚’ç‰¹å®šã§ãã¾ã™ã€‚

## æ©Ÿèƒ½

- **æ–‡å­—ã‚³ãƒ¼ãƒ‰è¡¨ç¤º**

  - ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®**ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’ãã®ã¾ã¾åæ˜ ã—ãŸãƒ„ãƒªãƒ¼å½¢å¼**ã§ãƒ•ã‚¡ã‚¤ãƒ«ã¨æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã€‚ãƒ•ã‚©ãƒ«ãƒ€ã¯æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ã§ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯æ¤œå‡ºã•ã‚ŒãŸæ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒèª¬æ˜ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™
  - Web ãƒ“ãƒ¥ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¨æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã®ãƒªãƒƒãƒ UI ã§è¡¨ç¤ºã€‚æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½ä»˜ã
  - å¤šè¨€èªå¯¾å¿œ (è‹±èªã€æ—¥æœ¬èªã€ä¸­å›½èªã€éŸ“å›½èª)

- **é«˜åº¦ãªæ©Ÿèƒ½**

  - è¨­å®šå¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­ã¨é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
  - æ–‡å­—ã‚³ãƒ¼ãƒ‰æ¤œå‡ºçµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
  - ãƒ‡ãƒãƒƒã‚°ç”¨ã®è©³ç´°ãªãƒ­ã‚°
  - Web ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ã® CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³:

   ```bash
   git clone https://github.com/long-910/vscode-view-charset.git
   ```

2. ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:

   ```bash
   npm install
   ```

3. æ‹¡å¼µæ©Ÿèƒ½ã‚’ãƒ“ãƒ«ãƒ‰:

   ```bash
   npm run compile
   ```

4. F5 ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ VS Code ã§ãƒ‡ãƒãƒƒã‚°ã‚’é–‹å§‹

## ä½¿ç”¨æ–¹æ³•

### æ–‡å­—ã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤º

1. **ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã§**:

   - VS Code ã®ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«ã€ŒView Charsetã€ãƒ“ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
   - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ãŒãƒ„ãƒªãƒ¼å½¢å¼ã§è¡¨ç¤ºã•ã‚Œã¾ã™
   - å„ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯æ¤œå‡ºã•ã‚ŒãŸæ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒèª¬æ˜ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã¾ã™
   - ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å±•é–‹ãƒ»æŠ˜ã‚ŠãŸãŸã¿ãŒã§ãã¾ã™

2. **Web ãƒ“ãƒ¥ãƒ¼ã§**:
   - ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‚’é–‹ã (`Ctrl+Shift+P`)
   - ã€Œ`Open View Charset Web View`ã€ã‚’å®Ÿè¡Œ
   - æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ã§ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚„æ–‡å­—ã‚³ãƒ¼ãƒ‰åã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   - åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‘ã‚¹ã¾ãŸã¯æ–‡å­—ã‚³ãƒ¼ãƒ‰ã§ã‚½ãƒ¼ãƒˆ
   - ã€ŒExport to CSVã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¸€è¦§ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆãƒ‘ã‚¹ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«åãƒ»æ–‡å­—ã‚³ãƒ¼ãƒ‰ã®åˆ—ã‚’å«ã‚€ï¼‰

### è¨­å®š

VS Code ã®è¨­å®šï¼ˆ`Ctrl+,`ï¼‰ã§æ‹¡å¼µæ©Ÿèƒ½ã‚’è¨­å®š:

```json
{
  "viewCharset.fileExtensions": [
    ".txt",
    ".csv",
    ".tsv",
    ".json",
    ".xml",
    ".html",
    ".css",
    ".js",
    ".ts"
  ],
  "viewCharset.excludePatterns": ["**/node_modules/**", "**/.git/**"],
  "viewCharset.maxFileSize": 1024,
  "viewCharset.cacheDuration": 3600,
  "viewCharset.cacheEnabled": true,
  "viewCharset.debugMode": false,
  "viewCharset.logToFile": false
}
```

#### è¨­å®šã®è©³ç´°

| è¨­å®šé …ç›®                      | èª¬æ˜                       | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤                           |
| ----------------------------- | -------------------------- | -------------------------------------- |
| `viewCharset.fileExtensions`  | å‡¦ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ‹¡å¼µå­     | å„ç¨®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«                   |
| `viewCharset.excludePatterns` | é™¤å¤–ã™ã‚‹ glob ãƒ‘ã‚¿ãƒ¼ãƒ³     | `["**/node_modules/**", "**/.git/**"]` |
| `viewCharset.maxFileSize`     | æœ€å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºï¼ˆKBï¼‰   | `1024`                                 |
| `viewCharset.cacheDuration`   | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹æœŸé–“ï¼ˆç§’ï¼‰ | `3600`                                 |
| `viewCharset.cacheEnabled`    | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æœ‰åŠ¹/ç„¡åŠ¹      | `true`                                 |
| `viewCharset.debugMode`       | ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã®æœ‰åŠ¹/ç„¡åŠ¹  | `false`                                |
| `viewCharset.logToFile`       | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ã‚°ã®æœ‰åŠ¹/ç„¡åŠ¹    | `false`                                |

### ãƒ­ã‚°å‡ºåŠ›

æ‹¡å¼µæ©Ÿèƒ½ã¯è©³ç´°ãªãƒ­ã‚°å‡ºåŠ›ã‚’æä¾›:

- **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°**: å¸¸ã«æœ‰åŠ¹ï¼ˆé–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ç¢ºèªå¯èƒ½ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ã‚°**: `viewCharset.logToFile`ã§æœ‰åŠ¹åŒ–
  - å ´æ‰€: `{workspaceRoot}/view-charset.log`
  - ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«: `viewCharset.debugMode`ã§åˆ¶å¾¡
    - ãƒ‡ãƒãƒƒã‚°: è©³ç´°ãªãƒ­ã‚°
    - æƒ…å ±: åŸºæœ¬çš„ãªãƒ­ã‚°

## é–‹ç™º

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
vscode-view-charset/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ extension.ts          # ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã€‚ã‚³ãƒãƒ³ãƒ‰ç™»éŒ²ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–ãƒ»CacheManager
â”‚   â”œâ”€â”€ charsetDetector.ts    # encoding-japanese ã«ã‚ˆã‚‹æ–‡å­—ã‚³ãƒ¼ãƒ‰æ¤œå‡ºï¼ˆã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼‰
â”‚   â”œâ”€â”€ TreeDataProvider.ts   # Explorer ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã€‚ãƒ•ã‚©ãƒ«ãƒ€éšå±¤ + æ–‡å­—ã‚³ãƒ¼ãƒ‰ãƒ©ãƒ™ãƒ«
â”‚   â”œâ”€â”€ webview.ts            # WebView ãƒ‘ãƒãƒ«ã€‚ãƒ†ãƒ¼ãƒ–ãƒ« UIãƒ»æ¤œç´¢/ã‚½ãƒ¼ãƒˆãƒ»CSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ logger.ts             # winston ãƒ™ãƒ¼ã‚¹ã®ãƒ­ã‚¬ãƒ¼ï¼ˆã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ï¼‰ã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ« + å‡ºåŠ›ãƒãƒ£ãƒ³ãƒãƒ«
â”‚   â””â”€â”€ test/
â”‚       â”œâ”€â”€ runTest.ts        # çµ±åˆãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ï¼ˆvscode-testï¼‰
â”‚       â”œâ”€â”€ fixtures/         # ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç”¨ã‚µãƒ³ãƒ—ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
â”‚       â””â”€â”€ suite/
â”‚           â””â”€â”€ extension.test.ts  # Mocha ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆï¼ˆ28 ãƒ†ã‚¹ãƒˆï¼‰
â”œâ”€â”€ i18n/                     # NLS ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆen, ja, zh-cn, zh-tw, koï¼‰
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icon.png              # æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¢ã‚¤ã‚³ãƒ³
â”‚   â””â”€â”€ viewcharset-icon.png  # ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³
â”œâ”€â”€ package.json              # æ‹¡å¼µæ©Ÿèƒ½ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â””â”€â”€ tsconfig.json             # TypeScript è¨­å®š
```

### é–‹ç™ºç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

| ã‚³ãƒãƒ³ãƒ‰                | èª¬æ˜                                   |
| ----------------------- | -------------------------------------- |
| `npm run compile`       | TypeScript ãƒ“ãƒ«ãƒ‰ + NLS ç”Ÿæˆ           |
| `npm run watch`         | TypeScript ç›£è¦–ãƒ“ãƒ«ãƒ‰                  |
| `npm run watch:webpack` | Webpack ç›£è¦–ãƒ“ãƒ«ãƒ‰                     |
| `npm run lint`          | ESLint ãƒã‚§ãƒƒã‚¯                        |
| `npm test`              | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆcompile â†’ lint â†’ mochaï¼‰   |
| `npm run package`       | æœ¬ç•ªãƒ“ãƒ«ãƒ‰ï¼ˆwebpack + NLSï¼‰            |

VS Code ã§ **F5** ã‚­ãƒ¼ã‚’æŠ¼ã™ã¨ Extension Development Host ãŒèµ·å‹•ã—ã€æ‰‹å‹•ãƒ†ã‚¹ãƒˆãŒè¡Œãˆã¾ã™ã€‚

## è²¢çŒ®

1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ: `git checkout -b feature/your-feature`
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ: `git commit -m "Add your feature"`
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥: `git push origin feature/your-feature`
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹](LICENSE)ã®ä¸‹ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ä½œè€…

- **long-910**
  GitHub: [long-910](https://github.com/long-910)

## ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆ

è©³ç´°ã¯[CHANGELOG.md](CHANGELOG.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
